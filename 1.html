<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´¢å¯Œå†’é™©å®¶ï¼šé‡‘èç‹å›½æŒ‘æˆ˜èµ›</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'å¾®è½¯é›…é»‘', sans-serif;
        }
        
        body {
            background: radial-gradient(circle at top left, #2c3e50, #1a2a3a);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #f0f8ff;
        }
        
        .game-container {
            width: 100%;
            max-width: 1200px;
            background: rgba(25, 35, 45, 0.85);
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 90vh;
            border: 1px solid #4a90e2;
        }
        
        /* é¡¶éƒ¨çŠ¶æ€æ  */
        .status-bar {
            display: flex;
            background: rgba(30, 40, 55, 0.95);
            padding: 15px 25px;
            border-bottom: 2px solid #4a90e2;
        }
        
        .status-item {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-right: 1px dashed #5d7b9d;
        }
        
        .status-item:last-child {
            border-right: none;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffcc00;
            margin-top: 5px;
        }
        
        /* ä¸»å†…å®¹åŒº */
        .main-content {
            display: flex;
            flex: 1;
            padding: 20px;
            gap: 20px;
        }
        
        /* å·¦ä¾§ä»»åŠ¡å’Œäº‹ä»¶åŒº */
        .left-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .card {
            background: rgba(40, 50, 65, 0.7);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
            border: 1px solid #5d7b9d;
        }
        
        .card-title {
            font-size: 1.4rem;
            color: #4fc3f7;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* ä»»åŠ¡åˆ—è¡¨ */
        .task-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .task {
            background: rgba(50, 65, 85, 0.8);
            border-radius: 12px;
            padding: 15px;
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: center;
            transition: all 0.3s;
            border: 1px solid #3a506b;
        }
        
        .task:hover {
            transform: translateY(-3px);
            background: rgba(55, 75, 95, 0.9);
            border-color: #4a90e2;
        }
        
        .task-info h3 {
            color: #a5d6a7;
            margin-bottom: 8px;
        }
        
        .task-desc {
            font-size: 0.9rem;
            color: #bbdefb;
            margin-bottom: 10px;
        }
        
        .task-meta {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #90a4ae;
        }
        
        .task-action {
            background: linear-gradient(to right, #00c853, #64dd17);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 3px 8px rgba(0, 200, 83, 0.3);
        }
        
        .task-action:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 200, 83, 0.5);
        }
        
        /* äº‹ä»¶åŒº */
        .event-card {
            background: rgba(65, 45, 90, 0.7);
            border: 1px solid #7c4dff;
        }
        
        .event-title {
            color: #b388ff;
        }
        
        .event-content {
            padding: 15px;
            background: rgba(55, 35, 75, 0.5);
            border-radius: 12px;
            margin-top: 10px;
        }
        
        .event-choices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .event-choice {
            padding: 15px;
            background: rgba(45, 25, 65, 0.8);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #7c4dff;
        }
        
        .event-choice:hover {
            background: rgba(85, 45, 120, 0.9);
            transform: translateY(-3px);
        }
        
        /* å³ä¾§èµ„äº§å’Œæ“ä½œåŒº */
        .right-panel {
            width: 380px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* èµ„äº§å¡ç‰‡ */
        .assets-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 10px;
        }
        
        .asset-card {
            background: rgba(45, 65, 80, 0.8);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid #29b6f6;
        }
        
        .asset-card:hover {
            transform: scale(1.03);
            background: rgba(55, 85, 100, 0.9);
        }
        
        .asset-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #4fc3f7;
        }
        
        .asset-income {
            color: #69f0ae;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        /* å•†åº— */
        .shop-card {
            background: rgba(80, 45, 65, 0.7);
            border: 1px solid #f48fb1;
        }
        
        .shop-title {
            color: #f48fb1;
        }
        
        .shop-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .shop-item {
            background: rgba(70, 35, 55, 0.8);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #f48fb1;
        }
        
        .shop-item:hover {
            background: rgba(100, 45, 75, 0.9);
            transform: translateY(-5px);
        }
        
        .item-cost {
            color: #ffcc80;
            font-weight: bold;
            margin-top: 5px;
        }
        
        /* åº•éƒ¨æ§åˆ¶åŒº */
        .control-bar {
            display: flex;
            padding: 15px 25px;
            background: rgba(30, 40, 55, 0.95);
            border-top: 2px solid #4a90e2;
        }
        
        .control-btn {
            flex: 1;
            padding: 15px;
            margin: 0 10px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(to right, #2979ff, #2962ff);
            color: white;
            box-shadow: 0 4px 10px rgba(41, 121, 255, 0.3);
        }
        
        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(41, 121, 255, 0.5);
        }
        
        .invest-btn {
            background: linear-gradient(to right, #00c853, #64dd17);
            box-shadow: 0 4px 10px rgba(0, 200, 83, 0.3);
        }
        
        /* é€šçŸ¥ç³»ç»Ÿ */
        .notifications {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }
        
        .notification {
            background: rgba(30, 40, 50, 0.95);
            border-radius: 10px;
            padding: 15px 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            animation: fadeIn 0.5s, fadeOut 0.5s 4.5s forwards;
            max-width: 300px;
            border-left: 4px solid #4fc3f7;
        }
        
        .notification.income {
            border-color: #69f0ae;
        }
        
        .notification.expense {
            border-color: #ff8a80;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }
        
        /* è¿›åº¦æ¡ */
        .goal-progress {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(35, 45, 60, 0.7);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            height: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9800, #ffcc80);
            border-radius: 10px;
            transition: width 0.8s cubic-bezier(0.22, 0.61, 0.36, 1);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .right-panel {
                width: 100%;
            }
            
            .status-bar {
                flex-wrap: wrap;
            }
            
            .status-item {
                min-width: 45%;
                border-right: none;
                border-bottom: 1px dashed #5d7b9d;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- çŠ¶æ€æ  -->
        <div class="status-bar">
            <div class="status-item">
                <div>ç°é‡‘</div>
                <div class="stat-value" id="cash">500</div>
                <div>å…ƒ</div>
            </div>
            <div class="status-item">
                <div>é“¶è¡Œå­˜æ¬¾</div>
                <div class="stat-value" id="bank">200</div>
                <div>å…ƒ</div>
            </div>
            <div class="status-item">
                <div>æ€»èµ„äº§</div>
                <div class="stat-value" id="total">700</div>
                <div>å…ƒ</div>
            </div>
            <div class="status-item">
                <div>æœˆæ”¶å…¥</div>
                <div class="stat-value" id="income">150</div>
                <div>å…ƒ/æœˆ</div>
            </div>
            <div class="status-item">
                <div>æ¸¸æˆå‘¨æ•°</div>
                <div class="stat-value" id="week">1</div>
                <div>å‘¨</div>
            </div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <div class="left-panel">
                <!-- ä»»åŠ¡å¡ -->
                <div class="card">
                    <h2 class="card-title">ğŸ“‹ æŒ‘æˆ˜ä»»åŠ¡</h2>
                    <div class="task-list">
                        <div class="task">
                            <div class="task-info">
                                <h3>åˆ›ä¸šè®¡åˆ’ï¼šæŸ æª¬æ°´æ‘Š</h3>
                                <p class="task-desc">è´­ä¹°æŸ æª¬æ°´åˆ¶ä½œå·¥å…·ï¼Œåœ¨å…¬å›­å¼€è®¾æ‘Šä½</p>
                                <div class="task-meta">
                                    <div class="meta-item">ğŸ’µ æŠ•èµ„: 120å…ƒ</div>
                                    <div class="meta-item">ğŸ“ˆ æœˆæ”¶å…¥: +40å…ƒ</div>
                                    <div class="meta-item">â±ï¸ è€—æ—¶: 2å‘¨</div>
                                </div>
                            </div>
                            <button class="task-action">å¼€å§‹åˆ›ä¸š</button>
                        </div>
                        <div class="task">
                            <div class="task-info">
                                <h3>å­¦ä¹ æŠ•èµ„è¯¾ç¨‹</h3>
                                <p class="task-desc">å‚åŠ é’å°‘å¹´æŠ•èµ„åŸ¹è®­ï¼Œæå‡ç†è´¢æŠ€èƒ½</p>
                                <div class="task-meta">
                                    <div class="meta-item">ğŸ’µ è´¹ç”¨: 80å…ƒ</div>
                                    <div class="meta-item">ğŸ“š æ•ˆæœ: æŠ•èµ„å›æŠ¥+20%</div>
                                    <div class="meta-item">â±ï¸ è€—æ—¶: 1å‘¨</div>
                                </div>
                            </div>
                            <button class="task-action">æŠ¥åå­¦ä¹ </button>
                        </div>
                        <div class="task">
                            <div class="task-info">
                                <h3>ç¤¾åŒºå¿—æ„¿æœåŠ¡</h3>
                                <p class="task-desc">ä¸ºç¤¾åŒºè€äººæä¾›å¸®åŠ©ï¼Œè·å¾—ç¤¾åŒºè®¤å¯</p>
                                <div class="task-meta">
                                    <div class="meta-item">ğŸ’µ æ”¶å…¥: 30å…ƒ</div>
                                    <div class="meta-item">â¤ï¸ ç¤¾åŒºå…³ç³»: +20</div>
                                    <div class="meta-item">â±ï¸ è€—æ—¶: 1å‘¨</div>
                                </div>
                            </div>
                            <button class="task-action">å‚åŠ æœåŠ¡</button>
                        </div>
                    </div>
                </div>
                
                <!-- äº‹ä»¶å¡ -->
                <div class="card event-card">
                    <h2 class="card-title event-title">ğŸ² æœ¬å‘¨äº‹ä»¶ï¼šå¸‚åœºæ³¢åŠ¨</h2>
                    <div class="event-content">
                        <p>ç”±äºå¤©æ°”å¼‚å¸¸ç‚çƒ­ï¼Œå†·é¥®éœ€æ±‚å¤§å¢ï¼æ‰€æœ‰å†·é¥®ç›¸å…³æŠ•èµ„å›æŠ¥æå‡30%ï¼Œä½†æ°´æœè¿›è´§ä»·æ ¼ä¸Šæ¶¨20%ã€‚</p>
                        <div class="event-choices">
                            <div class="event-choice">
                                <h3>ğŸ¹ æŠ•èµ„å†·é¥®æ‘Š</h3>
                                <p>æŠ•èµ„150å…ƒï¼Œä¸‹æœˆå›æŠ¥60å…ƒ</p>
                            </div>
                            <div class="event-choice">
                                <h3>ğŸ‰ å›¤ç§¯æ°´æœ</h3>
                                <p>èŠ±è´¹100å…ƒå‚¨å¤‡æ°´æœï¼Œé™ä½æœªæ¥æˆæœ¬</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç›®æ ‡è¿›åº¦ -->
                <div class="card">
                    <h2 class="card-title">ğŸ† è´¢å¯Œç›®æ ‡ï¼šè‡ªè¡Œè½¦ (1200å…ƒ)</h2>
                    <div class="goal-progress">
                        <div class="progress-header">
                            <div>å½“å‰è¿›åº¦: 700å…ƒ</div>
                            <div>è¿˜éœ€: 500å…ƒ</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress" style="width: 58%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="right-panel">
                <!-- èµ„äº§ç»„åˆ -->
                <div class="card">
                    <h2 class="card-title">ğŸ’¼ æˆ‘çš„èµ„äº§</h2>
                    <div class="assets-grid">
                        <div class="asset-card">
                            <div class="asset-icon">ğŸ¦</div>
                            <h3>å®šæœŸå­˜æ¬¾</h3>
                            <div class="stat-value">200å…ƒ</div>
                            <div class="asset-income">æœˆåˆ©æ¯: 2å…ƒ</div>
                        </div>
                        <div class="asset-card">
                            <div class="asset-icon">ğŸ‹</div>
                            <h3>æŸ æª¬æ°´æ‘Š</h3>
                            <div class="stat-value">120å…ƒ</div>
                            <div class="asset-income">æœˆæ”¶å…¥: 40å…ƒ</div>
                        </div>
                        <div class="asset-card">
                            <div class="asset-icon">ğŸ“š</div>
                            <h3>å­¦ä¹ åŸºé‡‘</h3>
                            <div class="stat-value">80å…ƒ</div>
                            <div class="asset-income">å›æŠ¥ç‡: +20%</div>
                        </div>
                        <div class="asset-card">
                            <div class="asset-icon">ğŸ¤</div>
                            <h3>ç¤¾åŒºå…³ç³»</h3>
                            <div class="stat-value">20ç‚¹</div>
                            <div class="asset-income">æœºä¼š: +15%</div>
                        </div>
                    </div>
                </div>
                
                <!-- æ¢¦æƒ³å•†åº— -->
                <div class="card shop-card">
                    <h2 class="card-title shop-title">ğŸ›’ æ¢¦æƒ³å•†åº—</h2>
                    <div class="shop-items">
                        <div class="shop-item">
                            <div class="asset-icon">ğŸš´</div>
                            <h3>å±±åœ°è‡ªè¡Œè½¦</h3>
                            <div class="item-cost">1200å…ƒ</div>
                        </div>
                        <div class="shop-item">
                            <div class="asset-icon">ğŸ’»</div>
                            <h3>æ¸¸æˆç¬”è®°æœ¬</h3>
                            <div class="item-cost">3500å…ƒ</div>
                        </div>
                        <div class="shop-item">
                            <div class="asset-icon">ğŸ•ï¸</div>
                            <h3>å¤ä»¤è¥ä½“éªŒ</h3>
                            <div class="item-cost">800å…ƒ</div>
                        </div>
                        <div class="shop-item">
                            <div class="asset-icon">ğŸ¸</div>
                            <h3>ç”µå‰ä»–å¥—è£…</h3>
                            <div class="item-cost">1800å…ƒ</div>
                        </div>
                    </div>
                </div>
                
                <!-- é“¶è¡Œæ“ä½œ -->
                <div class="card">
                    <h2 class="card-title">ğŸ¦ é“¶è¡ŒæœåŠ¡</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                        <button class="task-action" style="background: linear-gradient(to right, #2979ff, #2962ff);">å­˜å…¥50å…ƒ</button>
                        <button class="task-action" style="background: linear-gradient(to right, #ff5252, #ff867f);">å–å‡º50å…ƒ</button>
                        <button class="task-action" style="background: linear-gradient(to right, #651fff, #7c4dff);">ç”³è¯·è´·æ¬¾</button>
                        <button class="task-action" style="background: linear-gradient(to right, #00bcd4, #26c6da);">è´­ä¹°ä¿é™©</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨æ§åˆ¶æ  -->
        <div class="control-bar">
            <button class="control-btn invest-btn">ğŸ’° æŠ•èµ„æœºä¼š</button>
            <button class="control-btn">ğŸ“ˆ æŸ¥çœ‹è‚¡å¸‚</button>
            <button class="control-btn">â­ï¸ è¿›å…¥ä¸‹å‘¨</button>
        </div>
    </div>
    
    <div class="notifications" id="notifications"></div>
    
    <script>
        // é«˜çº§æ¸¸æˆçŠ¶æ€
        const gameState = {
            cash: 500,
            bank: 200,
            week: 1,
            assets: {
                deposit: { value: 200, income: 2 },
                lemonade: { value: 0, income: 0 },
                knowledge: { value: 0, income: 0 },
                community: { value: 0, income: 0 }
            },
            goals: [
                { name: "å±±åœ°è‡ªè¡Œè½¦", cost: 1200, progress: 700 },
                { name: "æ¸¸æˆç¬”è®°æœ¬", cost: 3500, progress: 0 }
            ],
            monthlyIncome: 150,
            events: []
        };
        
        // æ›´æ–°UIæ˜¾ç¤º
        function updateUI() {
            document.getElementById('cash').textContent = gameState.cash;
            document.getElementById('bank').textContent = gameState.bank;
            document.getElementById('total').textContent = gameState.cash + gameState.bank;
            document.getElementById('income').textContent = calculateTotalIncome();
            document.getElementById('week').textContent = gameState.week;
            
            // æ›´æ–°è¿›åº¦æ¡
            const goal = gameState.goals[0];
            const progress = Math.min(100, Math.floor(goal.progress / goal.cost * 100));
            document.getElementById('progress').style.width = progress + '%';
            
            // æ›´æ–°èµ„äº§æ˜¾ç¤º
            updateAssetsDisplay();
        }
        
        // è®¡ç®—æ€»æ”¶å…¥
        function calculateTotalIncome() {
            return gameState.monthlyIncome + 
                gameState.assets.deposit.income +
                gameState.assets.lemonade.income;
        }
        
        // æ›´æ–°èµ„äº§æ˜¾ç¤º
        function updateAssetsDisplay() {
            // åœ¨å®é™…å®ç°ä¸­ï¼Œè¿™é‡Œä¼šæ›´æ–°æ¯ä¸ªèµ„äº§çš„æ˜¾ç¤ºå€¼
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            const notifications = document.getElementById('notifications');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notifications.appendChild(notification);
            
            // 5ç§’åç§»é™¤é€šçŸ¥
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }
        
        // åˆå§‹åŒ–ä»»åŠ¡æŒ‰é’®
        function setupTaskButtons() {
            const taskButtons = document.querySelectorAll('.task-action');
            taskButtons.forEach((button, index) => {
                button.addEventListener('click', function() {
                    handleTaskAction(index);
                });
            });
        }
        
        // å¤„ç†ä»»åŠ¡åŠ¨ä½œ
        function handleTaskAction(taskIndex) {
            switch(taskIndex) {
                case 0: // æŸ æª¬æ°´æ‘Š
                    if (gameState.cash >= 120) {
                        gameState.cash -= 120;
                        gameState.assets.lemonade.value = 120;
                        gameState.assets.lemonade.income = 40;
                        showNotification('ğŸ‹ æŸ æª¬æ°´æ‘Šå¼€ä¸šå•¦ï¼æ¯æœˆæ”¶å…¥å¢åŠ 40å…ƒ', 'income');
                        updateUI();
                    } else {
                        showNotification('âš ï¸ ç°é‡‘ä¸è¶³ï¼Œæ— æ³•åˆ›ä¸šï¼', 'expense');
                    }
                    break;
                case 1: // æŠ•èµ„è¯¾ç¨‹
                    if (gameState.cash >= 80) {
                        gameState.cash -= 80;
                        gameState.assets.knowledge.value = 80;
                        showNotification('ğŸ“š æŠ•èµ„è¯¾ç¨‹å®Œæˆï¼æ‰€æœ‰æŠ•èµ„æ”¶ç›Šæå‡20%', 'income');
                        updateUI();
                    } else {
                        showNotification('âš ï¸ ç°é‡‘ä¸è¶³ï¼Œæ— æ³•æŠ¥åè¯¾ç¨‹ï¼', 'expense');
                    }
                    break;
                case 2: // ç¤¾åŒºæœåŠ¡
                    gameState.cash += 30;
                    gameState.assets.community.value += 20;
                    showNotification('â¤ï¸ ç¤¾åŒºæœåŠ¡å®Œæˆï¼è·å¾—30å…ƒå’Œ20ç‚¹ç¤¾åŒºå…³ç³»', 'income');
                    updateUI();
                    break;
            }
            
            // ç¦ç”¨å·²ç‚¹å‡»çš„æŒ‰é’®
            this.disabled = true;
            this.textContent = 'è¿›è¡Œä¸­...';
            this.style.background = 'linear-gradient(to right, #9e9e9e, #bdbdbd)';
        }
        
        // åˆå§‹åŒ–äº‹ä»¶é€‰æ‹©
        function setupEventChoices() {
            const choices = document.querySelectorAll('.event-choice');
            choices.forEach((choice, index) => {
                choice.addEventListener('click', function() {
                    handleEventChoice(index);
                });
            });
        }
        
        // å¤„ç†äº‹ä»¶é€‰æ‹©
        function handleEventChoice(choiceIndex) {
            const eventCard = document.querySelector('.event-card');
            
            switch(choiceIndex) {
                case 0: // æŠ•èµ„å†·é¥®æ‘Š
                    if (gameState.cash >= 150) {
                        gameState.cash -= 150;
                        gameState.monthlyIncome += 60;
                        showNotification('ğŸ¹ æŠ•èµ„å†·é¥®æ‘ŠæˆåŠŸï¼æ¯æœˆæ”¶å…¥å¢åŠ 60å…ƒ', 'income');
                        eventCard.style.display = 'none';
                        updateUI();
                    } else {
                        showNotification('âš ï¸ ç°é‡‘ä¸è¶³ï¼Œæ— æ³•æŠ•èµ„å†·é¥®æ‘Šï¼', 'expense');
                    }
                    break;
                case 1: // å›¤ç§¯æ°´æœ
                    if (gameState.cash >= 100) {
                        gameState.cash -= 100;
                        showNotification('ğŸ‰ æ°´æœå‚¨å¤‡å®Œæˆï¼æœªæ¥ä¸‰ä¸ªæœˆæˆæœ¬é™ä½20%', 'income');
                        eventCard.style.display = 'none';
                        updateUI();
                    } else {
                        showNotification('âš ï¸ ç°é‡‘ä¸è¶³ï¼Œæ— æ³•å›¤ç§¯æ°´æœï¼', 'expense');
                    }
                    break;
            }
        }
        
        // è¿›å…¥ä¸‹ä¸€å‘¨
        function advanceWeek() {
            gameState.week++;
            
            // æ¯4å‘¨å‘ä¸€æ¬¡æœˆæ”¶å…¥
            if (gameState.week % 4 === 0) {
                const monthlyIncome = calculateTotalIncome();
                gameState.cash += monthlyIncome;
                showNotification(`ğŸ’° æ”¶åˆ°æœˆæ”¶å…¥ï¼š${monthlyIncome}å…ƒ`, 'income');
                
                // æ›´æ–°ç›®æ ‡è¿›åº¦
                gameState.goals[0].progress = gameState.cash + gameState.bank;
            }
            
            // éšæœºäº‹ä»¶
            if (Math.random() > 0.7) {
                showRandomEvent();
            }
            
            updateUI();
        }
        
        // æ˜¾ç¤ºéšæœºäº‹ä»¶
        function showRandomEvent() {
            const events = [
                {
                    title: "ç§‘æŠ€çƒ­æ½®",
                    description: "æ–°å‹æ¸¸æˆæœºå‘å¸ƒï¼Œç”µå­äº§å“éœ€æ±‚å¤§å¢ï¼",
                    choices: [
                        { text: "æŠ•èµ„ç§‘æŠ€è‚¡", action: "æŠ•èµ„200å…ƒï¼Œå¯èƒ½è·å¾—é«˜å›æŠ¥" },
                        { text: "è§‚æœ›å¸‚åœº", action: "ä¸è¿›è¡ŒæŠ•èµ„ï¼Œé¿å…é£é™©" }
                    ]
                },
                {
                    title: "å¤©æ°”ç¾å®³",
                    description: "æš´é›¨å¯¼è‡´éƒ¨åˆ†å•†å“è¿è¾“å›°éš¾ï¼Œç‰©ä»·ä¸Šæ¶¨ï¼",
                    choices: [
                        { text: "è´­ä¹°ä¿é™©", action: "æ”¯ä»˜50å…ƒä¿é™©è´¹ï¼Œå‡å°‘æŸå¤±" },
                        { text: "æ‰¿æ‹…é£é™©", action: "å¸Œæœ›æŸå¤±ä¸ä¼šå¤ªå¤§" }
                    ]
                },
                {
                    title: "ç¤¾åŒºæœºä¼š",
                    description: "ç¤¾åŒºä¸¾åŠåˆ›ä¸šå¤§èµ›ï¼Œæä¾›å¥–é‡‘æ”¯æŒï¼",
                    choices: [
                        { text: "å‚åŠ æ¯”èµ›", action: "èŠ±è´¹æ—¶é—´å‡†å¤‡ï¼Œå¯èƒ½èµ¢å¾—å¥–é‡‘" },
                        { text: "ä¸“æ³¨ç°æœ‰äº‹ä¸š", action: "ä¸åˆ†æ•£ç²¾åŠ›" }
                    ]
                }
            ];
            
            const randomEvent = events[Math.floor(Math.random() * events.length)];
            const eventCard = document.querySelector('.event-card');
            const eventTitle = eventCard.querySelector('.event-title');
            const eventContent = eventCard.querySelector('.event-content');
            
            eventTitle.innerHTML = `ğŸ² æœ¬å‘¨äº‹ä»¶ï¼š${randomEvent.title}`;
            eventContent.innerHTML = `
                <p>${randomEvent.description}</p>
                <div class="event-choices">
                    <div class="event-choice">
                        <h3>${randomEvent.choices[0].text}</h3>
                        <p>${randomEvent.choices[0].action}</p>
                    </div>
                    <div class="event-choice">
                        <h3>${randomEvent.choices[1].text}</h3>
                        <p>${randomEvent.choices[1].action}</p>
                    </div>
                </div>
            `;
            
            eventCard.style.display = 'block';
            setupEventChoices();
        }
        
        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            updateUI();
            setupTaskButtons();
            setupEventChoices();
            
            // è®¾ç½®"è¿›å…¥ä¸‹å‘¨"æŒ‰é’®
            document.querySelectorAll('.control-btn')[2].addEventListener('click', advanceWeek);
            
            // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
            setTimeout(() => {
                showNotification('æ¬¢è¿æ¥åˆ°è´¢å¯Œå†’é™©å®¶ï¼é€šè¿‡æŠ•èµ„å’Œå†³ç­–å»ºç«‹ä½ çš„é‡‘èå¸å›½ï¼');
            }, 1000);
            
            // 5ç§’åæ˜¾ç¤ºç¬¬ä¸€ä¸ªéšæœºäº‹ä»¶
            setTimeout(showRandomEvent, 5000);
        }
        
        // å¯åŠ¨æ¸¸æˆ
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>