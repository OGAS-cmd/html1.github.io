<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>少儿理财小达人 - 习惯养成游戏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Marker Felt', '华文圆体', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6ecbf5 0%, #c2e9fb 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 25px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            margin-bottom: 25px;
            border: 4px solid #ffcc00;
            position: relative;
            overflow: hidden;
        }
        
        .header-decoration {
            position: absolute;
            width: 120px;
            height: 120px;
            background: rgba(255, 217, 102, 0.3);
            border-radius: 50%;
            top: -30px;
            left: -30px;
        }
        
        .header-decoration:nth-child(2) {
            top: auto;
            bottom: -40px;
            right: -40px;
            left: auto;
            width: 150px;
            height: 150px;
        }
        
        h1 {
            color: #e91e63;
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 2;
        }
        
        .subtitle {
            color: #2196f3;
            font-size: 1.5rem;
            margin-bottom: 15px;
            position: relative;
            z-index: 2;
        }
        
        .player-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 15px;
            position: relative;
            z-index: 2;
        }
        
        .info-card {
            background: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
            padding: 15px 25px;
            border-radius: 15px;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            min-width: 180px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
        }
        
        .info-card:hover {
            transform: scale(1.05);
        }
        
        .game-area {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .panel::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(to right, #ff5722, #ff9800);
        }
        
        .panel:nth-child(2)::before {
            background: linear-gradient(to right, #4caf50, #8bc34a);
        }
        
        .panel:nth-child(3)::before {
            background: linear-gradient(to right, #2196f3, #03a9f4);
        }
        
        .panel:hover {
            transform: translateY(-5px);
        }
        
        .panel h2 {
            color: #ff5722;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
            border-bottom: 3px dotted #ffcc00;
            padding-bottom: 10px;
        }
        
        .task-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .task-column h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #2196f3;
            font-size: 1.3rem;
        }
        
        .task-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .task {
            display: flex;
            align-items: center;
            background: #f9f9f9;
            padding: 12px 15px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 5px solid #4caf50;
            position: relative;
        }
        
        .task.penalty {
            border-left: 5px solid #f44336;
        }
        
        .task.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .task:hover:not(.disabled) {
            background: #e8f5e9;
            transform: scale(1.02);
        }
        
        .task.penalty:hover:not(.disabled) {
            background: #ffebee;
        }
        
        .task i {
            font-size: 1.6rem;
            color: #4caf50;
            margin-right: 12px;
            width: 36px;
            text-align: center;
        }
        
        .task.penalty i {
            color: #f44336;
        }
        
        .task-details {
            flex-grow: 1;
        }
        
        .task-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 4px;
            color: #2e7d32;
        }
        
        .task.penalty .task-title {
            color: #c62828;
        }
        
        .task-reward {
            background: #4caf50;
            color: white;
            padding: 4px 10px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1rem;
            min-width: 70px;
            text-align: center;
        }
        
        .task.penalty .task-reward {
            background: #f44336;
        }
        
        .risk-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 10px;
            background: #ffeb3b;
            color: #333;
        }
        
        .investment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .investment {
            background: #e3f2fd;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #bbdefb;
            position: relative;
        }
        
        .investment:hover {
            background: #bbdefb;
            transform: translateY(-3px);
        }
        
        .investment i {
            font-size: 2rem;
            color: #2196f3;
            margin-bottom: 10px;
        }
        
        .investment h3 {
            color: #1976d2;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .investment p {
            font-size: 0.9rem;
            color: #555;
        }
        
        .shop-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .item {
            background: #fff8e1;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 2px solid #ffecb3;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .item:hover {
            background: #ffecb3;
            transform: scale(1.05);
        }
        
        .item img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            margin-bottom: 10px;
        }
        
        .item-name {
            font-weight: bold;
            color: #f57c00;
            margin-bottom: 5px;
        }
        
        .item-price {
            background: #ffb74d;
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: bold;
            margin-top: 8px;
            display: inline-block;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            background: linear-gradient(to right, #ff5722, #ff9800);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-buy {
            background: linear-gradient(to right, #4caf50, #8bc34a);
        }
        
        .btn-collect {
            background: linear-gradient(to right, #2196f3, #03a9f4);
        }
        
        .btn-withdraw {
            background: linear-gradient(to right, #9c27b0, #e91e63);
        }
        
        .progress-container {
            background: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #4caf50, #8bc34a);
            border-radius: 10px;
            width: 35%;
            transition: width 0.5s ease;
        }
        
        .competition {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .competitor {
            text-align: center;
            background: #f5f5f5;
            padding: 15px;
            border-radius: 15px;
            flex: 1;
            margin: 0 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .competitor:hover {
            transform: scale(1.03);
        }
        
        .competitor h3 {
            color: #9c27b0;
            margin-bottom: 10px;
        }
        
        .competitor .progress-container {
            height: 12px;
            margin: 10px 0;
        }
        
        .goal-section {
            text-align: center;
            margin-top: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            position: relative;
        }
        
        .goal-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(to right, #9c27b0, #e91e63);
            border-radius: 3px 3px 0 0;
        }
        
        .goal-section h2 {
            color: #9c27b0;
            margin-bottom: 15px;
        }
        
        .goal-item {
            display: inline-block;
            background: #e1bee7;
            padding: 15px;
            border-radius: 15px;
            margin: 10px;
            text-align: center;
            min-width: 180px;
        }
        
        .custom-item-form {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #1976d2;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #bbdefb;
            font-size: 1rem;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
        }
        
        .notification.penalty {
            background: #f44336;
        }
        
        .notification.warning {
            background: #ff9800;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification i {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .coins-animation {
            position: absolute;
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="%23FFD700" d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 368C309 368 352 325 352 272C352 218.1 309 176 256 176C202.1 176 160 218.1 160 272C160 325 202.1 368 256 368z"/></svg>');
            background-size: contain;
            animation: coinFly 1.5s ease-out forwards;
            z-index: 100;
        }
        
        .withdraw-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .withdraw-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        
        .modal-content h2 {
            color: #9c27b0;
            margin-bottom: 20px;
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .modal-btn.confirm {
            background: linear-gradient(to right, #4caf50, #8bc34a);
            color: white;
        }
        
        .modal-btn.cancel {
            background: #f5f5f5;
            color: #333;
        }
        
        @keyframes coinFly {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0.2);
                opacity: 0;
            }
        }
        
        @media (max-width: 768px) {
            .player-info {
                gap: 15px;
            }
            
            .info-card {
                min-width: 150px;
                padding: 12px;
                font-size: 1rem;
            }
            
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .competition {
                flex-direction: column;
                gap: 15px;
            }
            
            .task-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            .player-info {
                flex-direction: column;
                align-items: center;
            }
            
            .info-card {
                width: 100%;
                max-width: 250px;
            }
            
            .investment-options, .shop-items {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-decoration"></div>
            <div class="header-decoration"></div>
            <h1><i class="fas fa-coins"></i> 理财小达人</h1>
            <div class="subtitle">好习惯创造财富，坏习惯消耗财富！</div>
            
            <div class="player-info">
                <div class="info-card">
                    <div>当前资金</div>
                    <div id="money">¥ 185</div>
                </div>
                <div class="info-card">
                    <div>理财收益</div>
                    <div id="earnings">¥ 25</div>
                </div>
                <div class="info-card">
                    <div>目标进度</div>
                    <div id="goal-progress">45%</div>
                </div>
                <div class="info-card">
                    <div>财富等级</div>
                    <div id="level">理财能手</div>
                </div>
            </div>
        </header>
        
        <div class="game-area">
            <div class="panel">
                <h2><i class="fas fa-tasks"></i> 今日任务</h2>
                <div class="task-container">
                    <div class="task-column">
                        <h3>好习惯奖励</h3>
                        <div class="task-list">
                            <div class="task" onclick="completeTask(this, 8)">
                                <i class="fas fa-book"></i>
                                <div class="task-details">
                                    <div class="task-title">完成数学作业</div>
                                    <div>认真完成所有练习题</div>
                                </div>
                                <div class="task-reward">+¥8</div>
                            </div>
                            <div class="task" onclick="completeTask(this, 7)">
                                <i class="fas fa-broom"></i>
                                <div class="task-details">
                                    <div class="task-title">打扫自己房间</div>
                                    <div>整理书桌、床铺和地板</div>
                                </div>
                                <div class="task-reward">+¥7</div>
                            </div>
                            <div class="task" onclick="completeTask(this, 6)">
                                <i class="fas fa-apple-alt"></i>
                                <div class="task-details">
                                    <div class="task-title">健康饮食一天</div>
                                    <div>不吃零食，多吃蔬果</div>
                                </div>
                                <div class="task-reward">+¥6</div>
                            </div>
                            <div class="task" onclick="completeTask(this, 9)">
                                <i class="fas fa-book-open"></i>
                                <div class="task-details">
                                    <div class="task-title">阅读课外书</div>
                                    <div>阅读30分钟课外书</div>
                                </div>
                                <div class="task-reward">+¥9</div>
                            </div>
                            <div class="task" onclick="completeTask(this, 10)">
                                <i class="fas fa-utensils"></i>
                                <div class="task-details">
                                    <div class="task-title">帮家人洗碗</div>
                                    <div>晚餐后清洗所有餐具</div>
                                </div>
                                <div class="task-reward">+¥10</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="task-column">
                        <h3>坏习惯惩罚</h3>
                        <div class="task-list">
                            <div class="task penalty" onclick="penalizeTask(this, 5)">
                                <i class="fas fa-bed"></i>
                                <div class="task-details">
                                    <div class="task-title">睡懒觉迟到</div>
                                    <div>上学迟到被老师批评</div>
                                </div>
                                <div class="task-reward">-¥5</div>
                            </div>
                            <div class="task penalty" onclick="penalizeTask(this, 8)">
                                <i class="fas fa-tv"></i>
                                <div class="task-details">
                                    <div class="task-title">沉迷看电视</div>
                                    <div>超时看电视1小时</div>
                                </div>
                                <div class="task-reward">-¥8</div>
                            </div>
                            <div class="task penalty" onclick="penalizeTask(this, 7)">
                                <i class="fas fa-cookie-bite"></i>
                                <div class="task-details">
                                    <div class="task-title">偷吃零食</div>
                                    <div>饭前偷吃零食</div>
                                </div>
                                <div class="task-reward">-¥7</div>
                            </div>
                            <div class="task penalty" onclick="penalizeTask(this, 10)">
                                <i class="fas fa-times-circle"></i>
                                <div class="task-details">
                                    <div class="task-title">未完成任务</div>
                                    <div>没有完成作业和家务</div>
                                </div>
                                <div class="task-reward">-¥10</div>
                            </div>
                            <div class="task penalty" onclick="penalizeTask(this, 12)">
                                <i class="fas fa-gamepad"></i>
                                <div class="task-details">
                                    <div class="task-title">过度玩游戏</div>
                                    <div>超时玩游戏2小时</div>
                                </div>
                                <div class="task-reward">-¥12</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <h2><i class="fas fa-chart-line"></i> 理财投资</h2>
                <p>投资有风险，理财需谨慎！</p>
                
                <div class="investment-options">
                    <div class="investment" onclick="invest(30, 0.05, 0.1, '储蓄罐')">
                        <i class="fas fa-piggy-bank"></i>
                        <h3>储蓄罐</h3>
                        <p>低风险低收益</p>
                        <div class="risk-indicator">风险: ★☆☆</div>
                        <div class="item-price">+5%</div>
                    </div>
                    <div class="investment" onclick="invest(50, 0.1, 0.2, '教育基金')">
                        <i class="fas fa-graduation-cap"></i>
                        <h3>教育基金</h3>
                        <p>中风险中收益</p>
                        <div class="risk-indicator">风险: ★★☆</div>
                        <div class="item-price">+10%</div>
                    </div>
                    <div class="investment" onclick="invest(80, 0.15, 0.3, '科技股票')">
                        <i class="fas fa-laptop-code"></i>
                        <h3>科技股票</h3>
                        <p>中高风险</p>
                        <div class="risk-indicator">风险: ★★★</div>
                        <div class="item-price">+15%</div>
                    </div>
                    <div class="investment" onclick="invest(120, 0.25, 0.4, '创业投资')">
                        <i class="fas fa-lightbulb"></i>
                        <h3>创业投资</h3>
                        <p>高风险高收益</p>
                        <div class="risk-indicator">风险: ★★★★</div>
                        <div class="item-price">+25%</div>
                    </div>
                </div>
                
                <button class="btn btn-collect" onclick="collectEarnings()">
                    <i class="fas fa-hand-holding-usd"></i> 领取理财收益
                </button>
                
                <button class="btn btn-withdraw" onclick="openWithdrawModal()">
                    <i class="fas fa-money-bill-wave"></i> 申请提现
                </button>
            </div>
            
            <div class="panel">
                <h2><i class="fas fa-shopping-cart"></i> 梦想商城</h2>
                <p>实现你的梦想，享受努力的成果！</p>
                
                <div class="shop-items">
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/869/869548.png" alt="漫画书">
                        <div class="item-name">漫画书</div>
                        <div class="item-price">¥45</div>
                        <button class="btn btn-buy" onclick="buyItem(45, '漫画书')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/3048/3048122.png" alt="遥控车">
                        <div class="item-name">遥控车</div>
                        <div class="item-price">¥150</div>
                        <button class="btn btn-buy" onclick="buyItem(150, '遥控车')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/2972/2972185.png" alt="自行车">
                        <div class="item-name">自行车</div>
                        <div class="item-price">¥300</div>
                        <button class="btn btn-buy" onclick="buyItem(300, '自行车')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/831/831276.png" alt="游戏机">
                        <div class="item-name">游戏机</div>
                        <div class="item-price">¥450</div>
                        <button class="btn btn-buy" onclick="buyItem(450, '游戏机')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/869/869548.png" alt="游乐园">
                        <div class="item-name">游乐园游玩</div>
                        <div class="item-price">¥200</div>
                        <button class="btn btn-buy" onclick="buyItem(200, '游乐园游玩')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/2718/2718224.png" alt="大餐">
                        <div class="item-name">家庭大餐</div>
                        <div class="item-price">¥180</div>
                        <button class="btn btn-buy" onclick="buyItem(180, '家庭大餐')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/869/869548.png" alt="科学实验">
                        <div class="item-name">科学实验套装</div>
                        <div class="item-price">¥250</div>
                        <button class="btn btn-buy" onclick="buyItem(250, '科学实验套装')">购买</button>
                    </div>
                    <div class="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/869/869548.png" alt="海边旅游">
                        <div class="item-name">海边旅游</div>
                        <div class="item-price">¥600</div>
                        <button class="btn btn-buy" onclick="buyItem(600, '海边旅游')">购买</button>
                    </div>
                </div>
                
                <div class="custom-item-form">
                    <h3><i class="fas fa-plus-circle"></i> 添加自定义商品</h3>
                    <div class="form-group">
                        <label for="item-name">商品名称</label>
                        <input type="text" id="item-name" placeholder="输入你的梦想商品">
                    </div>
                    <div class="form-group">
                        <label for="item-price">商品价格</label>
                        <input type="number" id="item-price" placeholder="输入价格" min="1">
                    </div>
                    <button class="btn btn-buy" onclick="addCustomItem()">
                        <i class="fas fa-plus"></i> 添加商品
                    </button>
                </div>
            </div>
        </div>
        
        <div class="goal-section">
            <h2><i class="fas fa-bullseye"></i> 我的目标：新款自行车 (¥300)</h2>
            <div class="progress-container">
                <div class="progress-bar" id="goal-bar"></div>
            </div>
            <div style="margin: 15px 0; font-size: 1.2rem;">
                已存储: <span id="saved-amount">¥135</span> / ¥300
            </div>
            <div>
                <div class="goal-item">
                    <i class="fas fa-gift fa-2x"></i>
                    <div>完成目标奖励: 理财知识大礼包</div>
                </div>
            </div>
        </div>
        
        <div class="panel">
            <h2><i class="fas fa-trophy"></i> 财富竞赛</h2>
            <p>和其他小朋友比赛，看谁最先实现理财目标！</p>
            
            <div class="competition">
                <div class="competitor">
                    <h3>你</h3>
                    <div>¥185</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 45%;"></div>
                    </div>
                </div>
                <div class="competitor">
                    <h3>小明</h3>
                    <div>¥140</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 47%; background: #2196f3;"></div>
                    </div>
                </div>
                <div class="competitor">
                    <h3>小华</h3>
                    <div>¥220</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 73%; background: #e91e63;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i> <span id="notification-text">任务完成！</span>
    </div>
    
    <div class="withdraw-modal" id="withdraw-modal">
        <div class="modal-content">
            <h2><i class="fas fa-money-bill-wave"></i> 申请提现</h2>
            <p>你可以将游戏中的虚拟资金申请提现为实际奖励，请选择提现金额：</p>
            
            <div class="form-group">
                <label for="withdraw-amount">提现金额 (¥)</label>
                <input type="number" id="withdraw-amount" placeholder="输入提现金额" min="1" max="185">
            </div>
            
            <p>注意：提现申请需要家长审核通过后才能兑现</p>
            
            <div class="modal-buttons">
                <button class="modal-btn confirm" onclick="submitWithdraw()">提交申请</button>
                <button class="modal-btn cancel" onclick="closeWithdrawModal()">取消</button>
            </div>
        </div>
    </div>
    
    <script>
        // 游戏数据
        let money = 185;
        let earnings = 25;
        let savedAmount = 135;
        const goalAmount = 300;
        let goalProgress = (savedAmount / goalAmount) * 100;
        let completedTasks = new Set();
        
        // 更新UI显示
        function updateUI() {
            document.getElementById('money').textContent = `¥ ${money}`;
            document.getElementById('earnings').textContent = `¥ ${earnings}`;
            document.getElementById('saved-amount').textContent = `¥ ${savedAmount}`;
            
            goalProgress = (savedAmount / goalAmount) * 100;
            document.getElementById('goal-progress').textContent = `${Math.round(goalProgress)}%`;
            document.getElementById('goal-bar').style.width = `${goalProgress}%`;
            
            // 更新财富等级
            if (savedAmount >= 250) {
                document.getElementById('level').textContent = "理财大师";
            } else if (savedAmount >= 150) {
                document.getElementById('level').textContent = "理财能手";
            } else {
                document.getElementById('level').textContent = "理财新手";
            }
        }
        
        // 完成任务
        function completeTask(element, amount) {
            // 防止重复点击
            if (element.classList.contains('completed') || completedTasks.has(element)) return;
            
            money += amount;
            savedAmount += amount;
            
            element.classList.add('completed');
            completedTasks.add(element);
            
            createCoinsAnimation(element, amount);
            showNotification(`好习惯！获得 ¥${amount}`, false);
            updateUI();
        }
        
        // 惩罚任务
        function penalizeTask(element, amount) {
            // 防止重复点击
            if (element.classList.contains('completed') || completedTasks.has(element)) return;
            
            if (money < amount) {
                showNotification(`资金不足，无法扣除 ¥${amount}`, true);
                return;
            }
            
            money -= amount;
            savedAmount -= amount;
            
            element.classList.add('completed');
            completedTasks.add(element);
            
            showNotification(`坏习惯！扣除 ¥${amount}`, true);
            updateUI();
        }
        
        // 投资（带风险）
        function invest(amount, returnRate, riskRate, investmentName) {
            if (money < amount) {
                showNotification(`资金不足，需要 ¥${amount}`, true);
                return;
            }
            
            // 随机决定投资成功或失败
            const isSuccess = Math.random() > riskRate;
            
            if (isSuccess) {
                // 投资成功
                money -= amount;
                const returnAmount = Math.floor(amount * returnRate);
                earnings += returnAmount;
                
                showNotification(`投资${investmentName}成功！预期收益 ¥${returnAmount}`, false);
            } else {
                // 投资失败
                const lossAmount = Math.floor(amount * riskRate);
                money -= lossAmount;
                
                showNotification(`投资${investmentName}失败！损失 ¥${lossAmount}`, true);
            }
            
            updateUI();
        }
        
        // 领取收益
        function collectEarnings() {
            if (earnings <= 0) {
                showNotification("当前没有可领取的收益", true);
                return;
            }
            
            money += earnings;
            savedAmount += earnings;
            const collected = earnings;
            earnings = 0;
            
            createCoinsAnimation(document.querySelector('.btn-collect'), collected);
            showNotification(`成功领取 ¥${collected} 理财收益！`, false);
            updateUI();
        }
        
        // 购买商品
        function buyItem(price, itemName) {
            if (money < price) {
                showNotification(`资金不足，无法购买${itemName}`, true);
                return;
            }
            
            money -= price;
            
            showNotification(`成功购买${itemName}！享受你的奖励吧！`, false);
            updateUI();
        }
        
        // 添加自定义商品
        function addCustomItem() {
            const itemName = document.getElementById('item-name').value;
            const itemPrice = parseInt(document.getElementById('item-price').value);
            
            if (!itemName || !itemPrice) {
                showNotification("请填写商品名称和价格", true);
                return;
            }
            
            if (itemPrice <= 0) {
                showNotification("价格必须大于0", true);
                return;
            }
            
            // 创建新商品元素
            const shopItems = document.querySelector('.shop-items');
            const newItem = document.createElement('div');
            newItem.className = 'item';
            newItem.innerHTML = `
                <img src="https://cdn-icons-png.flaticon.com/512/869/869548.png" alt="${itemName}">
                <div class="item-name">${itemName}</div>
                <div class="item-price">¥${itemPrice}</div>
                <button class="btn btn-buy" onclick="buyItem(${itemPrice}, '${itemName}')">购买</button>
            `;
            
            shopItems.appendChild(newItem);
            
            // 清空表单
            document.getElementById('item-name').value = '';
            document.getElementById('item-price').value = '';
            
            showNotification(`成功添加"${itemName}"到梦想商城！`, false);
        }
        
        // 打开提现模态框
        function openWithdrawModal() {
            document.getElementById('withdraw-modal').classList.add('active');
            document.getElementById('withdraw-amount').max = money;
        }
        
        // 关闭提现模态框
        function closeWithdrawModal() {
            document.getElementById('withdraw-modal').classList.remove('active');
        }
        
        // 提交提现申请
        function submitWithdraw() {
            const withdrawAmount = parseInt(document.getElementById('withdraw-amount').value);
            
            if (!withdrawAmount || withdrawAmount <= 0) {
                showNotification("请输入有效的提现金额", true);
                return;
            }
            
            if (withdrawAmount > money) {
                showNotification("提现金额不能超过可用资金", true);
                return;
            }
            
            money -= withdrawAmount;
            closeWithdrawModal();
            
            showNotification(`提现申请已提交！等待家长审核 ¥${withdrawAmount}`, false);
            updateUI();
        }
        
        // 创建金币动画
        function createCoinsAnimation(sourceElement, amount) {
            const sourceRect = sourceElement.getBoundingClientRect();
            const target = document.querySelector('.info-card:first-child');
            const targetRect = target.getBoundingClientRect();
            
            const coinsCount = Math.min(amount, 10);
            
            for (let i = 0; i < coinsCount; i++) {
                const coin = document.createElement('div');
                coin.className = 'coins-animation';
                
                // 随机起始位置
                const startX = sourceRect.left + Math.random() * sourceRect.width;
                const startY = sourceRect.top + Math.random() * sourceRect.height;
                
                // 目标位置
                const targetX = targetRect.left + targetRect.width/2;
                const targetY = targetRect.top + targetRect.height/2;
                
                // 计算偏移量
                const tx = targetX - startX;
                const ty = targetY - startY;
                
                coin.style.setProperty('--tx', `${tx}px`);
                coin.style.setProperty('--ty', `${ty}px`);
                coin.style.left = `${startX}px`;
                coin.style.top = `${startY}px`;
                
                document.body.appendChild(coin);
                
                // 动画结束后移除元素
                setTimeout(() => {
                    coin.remove();
                }, 1500);
            }
        }
        
        // 显示通知
        function showNotification(text, isPenalty) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = text;
            notification.className = 'notification';
            
            if (isPenalty) {
                notification.classList.add('penalty');
                notification.innerHTML = `<i class="fas fa-exclamation-triangle"></i> <span id="notification-text">${text}</span>`;
            } else {
                notification.innerHTML = `<i class="fas fa-check-circle"></i> <span id="notification-text">${text}</span>`;
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // 初始化
        updateUI();
    </script>
</body>
</html>